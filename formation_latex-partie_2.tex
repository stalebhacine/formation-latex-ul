\documentclass[letterpaper,11pt,x11names]{memoir}
  \usepackage{natbib,url}
  \usepackage[english,francais]{babel}
  \usepackage[autolanguage]{numprint}
  \usepackage{amsmath,amsthm,ncccomma}
  %\usepackage[noae]{Sweave}
  \usepackage{paralist}
  \usepackage[shortlabels]{enumitem}
  \usepackage{textpos}
  \usepackage{graphicx}
  \usepackage{manfnt}                  % \mantriangleright (puce)
  \usepackage{dirtree}                 % arbre pour exercice ...?
  \usepackage{metalogo}                % \XeLaTeX logo
  %\usepackage{applekeys}               % touches Mac
  \usepackage{fontawesome}             % plusieurs icônes
  \usepackage{answers,listings}
  \usepackage[francais]{varioref}
  \usepackage{pdfpages}                % couvertures

  %%% ===================
  %%%  Style du document
  %%% ===================

  %% Polices de caractères
  \usepackage{fontspec}
  \usepackage[bold-style=ISO]{unicode-math}
  \defaultfontfeatures{Ligatures=TeX}
  \setmainfont[Scale=0.92,Numbers=OldStyle]{Lucida Bright OT}
  \setmathfont[Scale=0.92]{Lucida Bright Math OT}
  \setsansfont[Scale=1.0,Numbers=OldStyle]{Myriad Pro}
  \setmonofont[Scale=0.88]{Bitstream Vera Sans Mono}
  \newfontfamily\fullcaps[Letters=Uppercase,Numbers=Uppercase]{Myriad Pro}
  \usepackage[babel=true]{microtype}

  %% Couleurs
  \usepackage{xcolor}
  \definecolor{comments}{rgb}{0.7,0,0}
  \definecolor{emphasis}{named}{orange}
  \definecolor{link}{rgb}{0,0.4,0.6}   % ~RoyalBlue de dvips
  \definecolor{url}{rgb}{0.6,0,0}      % rouge-brun
  \definecolor{citation}{rgb}{0,0.5,0} % vert foncé

  %% Hyperliens
  \usepackage{hyperref}
  \hypersetup{colorlinks, linktocpage,
    urlcolor=url, linkcolor=link, citecolor=citation,
    bookmarksopen, bookmarksnumbered, bookmarksdepth=subsubsection,
    pdftitle={Rédaction de thèses et mémoires avec LaTeX - Partie II},
    pdfauthor={Université Laval}}
  \setlength{\XeTeXLinkMargin}{1pt}
  \renewcommand{\subsectionautorefname}{section}
  \renewcommand{\figureautorefname}{figure}
  % \newcommand{\subfigureautorefname}{figure}
  \renewcommand{\tableautorefname}{tableau}
  % \newcommand{\subtableautorefname}{tableau}
  \newcommand{\exempleautorefname}{exemple}
  \newcommand{\exerciceautorefname}{exercice}

  %% Table des matières (inspirée de classicthesis.sty)
  \renewcommand{\cftchapterleader}{\hspace{1.5em}}
  \renewcommand{\cftchapterafterpnum}{\cftparfillskip}
  \renewcommand{\cftsectionleader}{\hspace{1.5em}}
  \renewcommand{\cftsectionafterpnum}{\cftparfillskip}

  %% Titres des chapitres
  \chapterstyle{hangnum}
  \renewcommand{\chaptitlefont}{\normalfont\Huge\sffamily\bfseries\raggedright}

  %% Marges, entêtes et pieds de page
  \setlength{\marginparsep}{7mm}
  \setlength{\marginparwidth}{20mm}
  \setlength{\headwidth}{\textwidth}
  \addtolength{\headwidth}{\marginparsep}
  \addtolength{\headwidth}{\marginparwidth}
  \addtolength{\marginparwidth}{15mm} % plus d'espace pour titres de documentation

  %% Titres des sections et sous-sections
  \setsecheadstyle{\normalfont\Large\sffamily\bfseries\raggedright}
  \setsubsecheadstyle{\normalfont\large\sffamily\bfseries\raggedright}
  \maxsecnumdepth{subsection}
  \setsecnumdepth{subsection}

  %% Listes. Paramétrage avec enumitem.
  \setlist[enumerate]{leftmargin=*,align=left}
  \setlist[enumerate,2]{label=\alph*),labelsep=*,leftmargin=1.5em}
  \setlist[enumerate,3]{label=\roman*),labelsep=*,leftmargin=1.5em,align=right}
  \setlist[itemize]{leftmargin=*,align=left}

  %% Options de babel
  \frenchbsetup{CompactItemize=false,%
    ThinSpaceInFrenchNumbers=true,
    ItemLabeli=\mantriangleright,
    ItemLabelii=\textendash}
  \def\frenchfigurename{{\scshape Fig.}}
  \def\frenchtablename{{\scshape Tab.}}

  %% Sections de code source
  \lstloadlanguages{[LaTeX]TeX}
  \lstset{language=[LaTeX]TeX,
    escapeinside=`',
    extendedchars=true,
    inputencoding=utf8/latin1,
    basicstyle=\ttfamily\NoAutoSpacing,
    commentstyle=\color{comments}\slshape,
    keywordstyle=\mdseries,
    emphstyle=\color{emphasis}\bfseries,
    texcsstyle=*\lst@keywordstyle,
    backgroundcolor=\color{LightYellow1},
    frame=lr,
    rulecolor=\color{LightYellow1},
    xleftmargin=3.4pt,
    xrightmargin=3.4pt,
    showstringspaces=false}

  %%% =========================
  %%%  Nouveaux environnements
  %%% =========================

  %% Environnements d'exemples et al.
  \theoremstyle{definition}
  \newtheorem{exemple}{Exemple}[chapter]
  \newtheorem*{astuce}{Astuce}

  \theoremstyle{remark}
  \newtheorem*{remarque}{Remarque}
  \newtheorem*{remarques}{Remarques}
  \newenvironment{rem}{\begin{remarque} \mbox{}}{\end{remarque}}
  \newenvironment{rems}{\begin{remarques} \mbox{}}{\end{remarques}}

  %% Environnements de Sweave
  % \DefineVerbatimEnvironment{Sinput}{Verbatim}{xleftmargin=\parindent}
  % \DefineVerbatimEnvironment{Soutput}{Verbatim}{xleftmargin=\parindent}
  % \DefineVerbatimEnvironment{Scode}{Verbatim}{xleftmargin=\parindent}
  % \fvset{listparameters={\setlength{\topsep}{0pt}}}
  % \renewenvironment{Schunk}{\vspace{\topsep}}{\vspace{\topsep}}

  %% Exercices et réponses
  \Newassociation{sol}{solution}{solutions}
  \newcounter{exercice}[chapter]
  \renewcommand{\theexercice}{\thechapter.\arabic{exercice}}
  \newenvironment{exercice}[1][]{%
    \begin{list}{}{%
        \refstepcounter{exercice}
        \ifthenelse{\equal{#1}{nosol}}{%
          \renewcommand{\makelabel}{\bfseries\theexercice}}{%
          \hypertarget{ex:\theexercice}{}
          \Writetofile{solutions}{\protect\hypertarget{sol:\theexercice}{}}
          \renewcommand{\makelabel}{%
            \bfseries\protect\hyperlink{sol:\theexercice}{\theexercice}}}
        \settowidth{\labelwidth}{\bfseries\theexercice}
        \setlength{\leftmargin}{\labelwidth}
        \addtolength{\leftmargin}{\labelsep}
        \setlist[enumerate,1]{label=\alph*),labelsep=*,leftmargin=1.5em}
        \setlist[enumerate,2]{label=\roman*),labelsep=0.5em,align=right}}
      \item}
    {\end{list}}
  \renewenvironment{solution}[1]{%
    \begin{list}{}{%
        \renewcommand{\makelabel}{%
          \bfseries\protect\hyperlink{ex:#1}{#1}}
        \settowidth{\labelwidth}{\bfseries #1}
        \setlength{\leftmargin}{\labelwidth}
        \addtolength{\leftmargin}{\labelsep}
        \setlist[enumerate,1]{label=\alph*),labelsep=*,leftmargin=1.5em}
        \setlist[enumerate,2]{label=\roman*),labelsep=0.5em,align=right}}
      \item}
    {\end{list}}

  %% Démo de code LaTeX. Le code de 'texample' et 'eqxample' est
  %% repris de amsldoc.tex avec des petits ajustements.
  \newenvironment{demo}{%
    \begin{trivlist}\item}{%
    \end{trivlist}}
  \newenvironment{texample}[1][0.5\linewidth]{%
    \noindent\begin{minipage}{#1}%
      \def\producing{\end{minipage}\hfill\begin{minipage}{\dimexpr0.97\linewidth-#1}%
        \hbox\bgroup\kern-.2pt%
        \vbox\bgroup\parindent0pt\relax
        % The 3pt is to cancel the -\lineskip from \displ@y
        \abovedisplayskip3pt \abovedisplayshortskip\abovedisplayskip
        \belowdisplayskip0pt \belowdisplayshortskip\belowdisplayskip
        \noindent}
    }{%
      \par
      % Ensure that a lonely \[\] structure doesn't take up width less than
      % \hsize.
      \hrule height0pt width\hsize
      \egroup\kern-.2pt\egroup
    \end{minipage}%
    \par
  }
  \newenvironment{eqxample}{%
    \noindent\begin{minipage}{.5\columnwidth}%
      \def\producing{\end{minipage}\hfill\begin{minipage}{.45\columnwidth}%
        \hbox\bgroup\kern-.2pt\vrule width.2pt%
        \vbox\bgroup\parindent0pt\relax
        % The 3pt is to cancel the -\lineskip from \displ@y
        \abovedisplayskip3pt \abovedisplayshortskip\abovedisplayskip
        \belowdisplayskip0pt \belowdisplayshortskip\belowdisplayskip
        \noindent}
    }{%
      \par
      % Ensure that a lonely \[\] structure doesn't take up width less than
      % \hsize.
      \hrule height0pt width\hsize
      \egroup\vrule width.2pt\kern-.2pt\egroup
    \end{minipage}%
    \par
  }

  %% Remarques importantes
  \newenvironment{important}{%
    \begin{table}[h]%
      \begin{framed}%
        \noindent
        \begin{minipage}{0.1\linewidth}
          \raisebox{-1.5em}[0em][0em]{\HUGE\faExclamationCircle}
        \end{minipage}
        \begin{minipage}[t]{0.88\linewidth}}
        {\end{minipage}%
      \end{framed}
    \end{table}}

  %% Informations
  % \newenvironment{information}{%
  %   \begin{framed}%
  %     \noindent
  %     \begin{minipage}{0.1\linewidth}
  %       \raisebox{-1.5em}[0em][0em]{\HUGE\faInfoCircle}
  %     \end{minipage}
  %     \begin{minipage}[t]{0.88\linewidth}}
  %     {\end{minipage}%
  %   \end{framed}}

  %% Conseils du TeXpert
  \newenvironment{conseil}{%
    \begin{table}[h]%
      \begin{framed}%
        \noindent
        \begin{minipage}{0.1\linewidth}
          \raisebox{-1.5em}[0em][0em]{\HUGE\faThumbsOUp}
        \end{minipage}
        \begin{minipage}[t]{0.88\linewidth}
          {\bfseries\sffamily Conseil du {\TeX}pert} \newline}
        {\end{minipage}%
      \end{framed}
    \end{table}}

  %%% =====================
  %%%  Nouvelles commandes
  %%% =====================

  %% Noms de fonctions, code, etc.
  \renewcommand{\cmdprint}[1]{\textup{\texttt{\string#1}}}
  \newcommand{\code}[1]{\texttt{#1}}
  \newcommand{\fichier}[1]{\texttt{#1}}
  \newcommand{\class}[1]{\textsf{#1}}
  \newcommand{\pkg}[1]{\textbf{#1}}
  \newcommand{\mat}[1]{\symbf{#1}} % en mode mathématique


  \newcommand*{\Pe}[1]{\texttt{#1}}                      % print env name
  \newcommand*{\ixenv}[1]{\index{#1 env?\Pe{#1} (environnement)}% index env
    \index{environnement!#1?\Pe{#1}}}
  \newcommand*{\Ie}[1]{\Pe{#1}\ixenv{#1}}                % print & index env

  %% Redéfinition d'une commande de memoir.cls pour enlever les
  %% symboles $\langle$ et $\rangle$ des résultats de \marg et al.
  \makeatletter
  \DeclareRobustCommand{\meta}[1]{{\meta@font@select\hyphenchar\font\m@ne #1}}
  \makeatother

  %% Indications de capsule vidéo dans la marge
  \newcommand{\capsule}[2]{\href{#1}{#2}\marginpar{%
      \href{#1}{\raisebox{-0.5em}[0em][0em]{\HUGE\faYoutubePlay}}}}

  %% Hyperlien avec symbole de lien externe juste après
  \newcommand{\link}[2]{\href{#1}{#2~\raisebox{-0.2ex}{\faExternalLink}}}

  %% Lien vers documentation dans la marge
  \newcommand{\doc}[3][documentation]{\link{#3}{#1}%
    \ifthenelse{\equal{#2}{}}{}{\marginpar%
      [\hfill\faBook~\fichier{#2}]%
      {\faBook~\fichier{#2}}}}

  %% Pour le tableau des commandes d'espacement en mode mathématique.
  %% Pris de la doc de amsmath.
  \newcommand{\lspx}{\mathord{\dashv\mkern-3mu}}
  \newcommand{\rspx}{\mathord{\mkern-2mu\vdash}}
  \newcommand{\spx}[1]{$\lspx #1\rspx$}

  %%% =======
  %%%  Varia
  %%% =======

  %% Sous-tableaux et figures
  % \newsubfloat{table}
  % \newsubfloat{figure}

  %% Style de la bibliographie
  \bibliographystyle{francais}

  %% Aide pour la césure
  \hyphenation{}

  %%% ======================================
  %%%  Page titre (sauf titre de la partie)
  %%% ======================================
  \renewcommand{\year}{2015}
  \title{\protect\raggedright
    \mdseries\fontsize{32}{33}\selectfont Rédaction de thèses \\
                                          et de mémoires \\
                                          avec
    \bfseries\fontsize{62}{33}\selectfont \raisebox{-0.75ex}{\LaTeX} \\[10mm]
    \mdseries\fontsize{18}{24}\selectfont 2. Concepts avancés}
  % \author{\protect\raggedright
  %   \bfseries\fontsize{16}{20}\selectfont Vincent Goulet}
  % \date{%
  %   \mdseries\fontsize{14}{18}\selectfont Notes de cours \textbar\
  %                                         Exercices \textemdash\
  %                                         édition \year}

%\includeonly{mathematiques}

\begin{document}

\frontmatter

\pagestyle{empty}

\maketitle

% %% Page couverture avant. Il faut modifier la largeur des graphiques
% %% puisque Sweave la règle à 0.8\textwidth.
% \setkeys{Gin}{width=\paperwidth}
% \includepdf[pages=1]{couvertures-partie_1}
% \setkeys{Gin}{width=0.8\textwidth}
% \cleardoublepage

% \include{pagegarde}
% \clearpage

\include{licence-partie_2}
\clearpage

\pagestyle{companion}

\include{introduction}

\cleartorecto
\tableofcontents*

\mainmatter

\include{include}
\include{boites}
\include{tableaux+figures}
\include{mathematiques}
% \include{bibliographie}
% \include{polices}
% \include{varia}

\appendix
\include{solutions}

\bibliography{formation_latex}

\cleartoverso

\input{colophon-partie_2}

\cleartoverso


\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-engine: xetex
%%% TeX-master: t
%%% coding: utf-8
%%% End:
